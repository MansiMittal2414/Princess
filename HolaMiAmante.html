<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Princess Day</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&family=Quicksand:wght@300;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* Custom Fonts */
        .font-royal { font-family: 'Cinzel', serif; }
        .font-script { font-family: 'Great Vibes', cursive; }
        .font-body { font-family: 'Quicksand', sans-serif; }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float { animation: float 4s ease-in-out infinite; }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        .sparkle {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: sparkle 2s infinite;
        }

        /* Gradient Text */
        .text-gold-gradient {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Glassmorphism */
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        /* Screen Transitions */
        .screen {
            transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .hidden-screen {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95);
            z-index: -1;
        }
        .active-screen {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
            z-index: 10;
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* New Styles for AI Features */
        .ai-box {
            background: rgba(255, 255, 255, 0.6);
            border: 1px dashed #d4af37;
            padding: 1rem;
            border-radius: 1rem;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }
        .ai-box:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.02);
        }
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="bg-pink-50 h-screen w-screen overflow-hidden font-body text-slate-800 selection:bg-pink-200">

    <!-- Decorative Background Elements -->
    <div class="fixed inset-0 z-0 pointer-events-none opacity-40">
        <div class="absolute top-[-10%] left-[-10%] w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl animate-float" style="animation-delay: 0s;"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl animate-float" style="animation-delay: 2s;"></div>
        <div class="absolute top-[40%] left-[40%] w-72 h-72 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl animate-float" style="animation-delay: 4s;"></div>
    </div>

    <!-- SCREEN 1: THE GATEKEEPER -->
    <div id="screen-intro" class="screen active-screen z-20">
        <div class="glass-panel p-8 rounded-2xl max-w-md w-[90%] text-center border-2 border-pink-100 relative overflow-hidden">
            <!-- Simple Crown Icon -->
            <div class="text-6xl mb-4 animate-float">üëë</div>
            
            <h1 class="font-royal text-3xl mb-2 text-pink-900">The Royal Gate</h1>
            <p class="text-lg mb-6 text-slate-600">Security Question:</p>
            
            <div class="mb-8">
                <p class="font-script text-3xl text-pink-600 mb-4">"Who is the fairest of them all?"</p>
            </div>

            <button id="enter-btn" onclick="enterKingdom()" class="group relative inline-flex items-center justify-center px-8 py-3 text-lg font-medium text-white transition-all duration-200 bg-pink-500 rounded-full hover:bg-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 shadow-lg hover:shadow-pink-300/50 transform hover:-translate-y-1">
                <span id="enter-btn-text">It's Me!</span>
                <div class="absolute inset-0 rounded-full ring-2 ring-white/30 group-hover:ring-white/50 animate-pulse"></div>
            </button>
        </div>
    </div>

    <!-- SCREEN 2: THE DECREE -->
    <div id="screen-decree" class="screen hidden-screen z-20">
        
        <div class="max-w-2xl w-full h-full flex flex-col items-center justify-center p-4">
            
            <div class="glass-panel p-8 md:p-12 rounded-t-3xl rounded-b-[3rem] shadow-2xl border-4 border-double border-yellow-400/30 relative w-full max-h-[85vh] overflow-y-auto scrollbar-hide">
                
                <!-- Royal Seal -->
                <div class="absolute top-6 right-6 opacity-20 rotate-12">
                    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="45" stroke="#d4af37" stroke-width="2"/>
                        <path d="M50 20L55 35H70L58 45L63 60L50 50L37 60L42 45L30 35H45L50 20Z" fill="#d4af37" opacity="0.5"/>
                    </svg>
                </div>

                <div class="text-center mb-8">
                    <p class="font-royal text-sm tracking-[0.3em] text-slate-400 uppercase mb-2">Official Proclamation</p>
                    <h1 class="font-script text-6xl md:text-7xl text-gold-gradient mb-2 py-2">Princess Day</h1>
                    <div class="h-1 w-32 bg-gradient-to-r from-transparent via-yellow-400 to-transparent mx-auto"></div>
                </div>

                <div class="space-y-6 text-center">
                    <p class="text-xl leading-relaxed text-slate-700">
                        Hear ye, hear ye! <br>
                        By order of the Royal Heart, today is dedicated entirely to 
                        <span class="font-bold text-pink-600">Her Highness</span>.
                    </p>

                    <div class="bg-white/50 rounded-xl p-6 border border-pink-100 shadow-sm">
                        <h3 class="font-royal text-pink-900 mb-4 border-b border-pink-100 pb-2">Royal Privileges</h3>
                        <ul class="text-left space-y-3 text-slate-700">
                            <li class="flex items-start">
                                <span class="mr-2 text-xl">üç¶</span>
                                <span>
                                    <strong>Unlimited desserts</strong> tonight.
                                    <br>
                                    <span class="text-sm text-pink-500 italic">(Yup, I won't say no to ice cream as well!)</span>
                                </span>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-2 text-xl">üè´</span>
                                <span>
                                    <strong>Campus Queen Status</strong>
                                    <br>
                                    <span class="text-sm text-slate-500">You set the walking pace for every stroll.</span>
                                </span>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-2 text-xl">üôÖ‚Äç‚ôÄÔ∏è</span>
                                <span>
                                    <strong>Decision Exemption</strong>
                                    <br>
                                    <span class="text-sm text-slate-500">Immunity from answering "What do you want to eat?"</span>
                                </span>
                            </li>
                        </ul>
                    </div>

                    <!-- NEW: Gemini AI Section -->
                    <div class="mt-6 space-y-3">
                        <div class="ai-box">
                            <p class="font-royal text-xs text-gold-gradient font-bold uppercase mb-2">Royal Services ‚ú®</p>
                            
                            <!-- CHANGED FONT HERE: Uses font-body instead of script for readability -->
                            <div id="bard-result" class="hidden text-pink-700 mb-3 font-body font-medium text-lg leading-snug min-h-[3rem] flex items-center justify-center text-center px-4"></div>
                            
                            <div class="flex gap-2 justify-center">
                                <button onclick="summonBard()" class="px-4 py-2 bg-white border border-pink-200 rounded-full text-sm text-pink-600 hover:bg-pink-50 transition-colors shadow-sm">
                                    ‚ú® Summon Royal Bard
                                </button>
                                <button onclick="summonChef()" class="px-4 py-2 bg-white border border-pink-200 rounded-full text-sm text-pink-600 hover:bg-pink-50 transition-colors shadow-sm">
                                    üç∞ Ask Royal Chef
                                </button>
                            </div>
                        </div>
                    </div>

                    <p class="font-script text-3xl text-slate-600 mt-8">
                        "You rule my world today and every day."
                    </p>
                </div>

                <div class="mt-10 text-center">
                    <button onclick="claimCrown()" class="w-full md:w-auto px-10 py-4 bg-gradient-to-r from-pink-500 to-purple-500 text-white font-royal font-bold rounded-xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2 mx-auto">
                        <span>Accept Crown</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></svg>
                    </button>
                    <p class="text-xs text-slate-400 mt-3">Warning: Clicking this may cause extreme happiness.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SCREEN 3: CELEBRATION OVERLAY -->
    <div id="screen-celebration" class="fixed inset-0 pointer-events-none z-50 flex items-center justify-center opacity-0 transition-opacity duration-1000">
        <div class="text-center transform scale-150">
            <h1 class="font-royal text-6xl text-pink-600 drop-shadow-lg bg-white/80 px-6 py-2 rounded-xl">Long Live The Princess!</h1>
        </div>
    </div>

    <script>
        // --- GEMINI API CONFIGURATION ---
        // TODO: Paste your API key inside the quotes below
        const apiKey = "AIzaSyD__IjXVXujDshmB69-Lo645-w7n1ILk18"; 

        // --- AI FEATURES LOGIC ---
        async function callGemini(prompt, elementId) {
            const resultDiv = document.getElementById(elementId);
            
            if (!apiKey) {
                resultDiv.classList.remove('hidden');
                resultDiv.innerHTML = "‚ö†Ô∏è The Royal Scribe needs an API Key!";
                return;
            }

            // Loading State
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = '<span class="text-sm text-slate-400 animate-pulse">‚ú® Consulting the stars...</span>';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }]
                    })
                });

                const data = await response.json();
                const text = data.candidates[0].content.parts[0].text;
                
                // Typewriter effect
                typeWriter(text, elementId);

            } catch (error) {
                console.error(error);
                resultDiv.innerHTML = "The Royal Scribe is on a coffee break. (Error)";
            }
        }

        function typeWriter(text, elementId) {
            const element = document.getElementById(elementId);
            element.innerHTML = "";
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, 30); // Typing speed
                }
            }
            type();
        }

        function summonBard() {
            // Updated prompt for better compliments and readability context
            const prompt = "You are a dramatic, adoring medieval bard. Write a sincere, elegant, and heartwarming compliment for 'The Princess'. Mention her beauty, intelligence, or kindness. Keep it under 20 words. Use one emoji. Do NOT use old english that is hard to read, keep it modern but royal.";
            callGemini(prompt, 'bard-result');
        }

        function summonChef() {
            // Updated prompt to restrict menu
            const menu = `
            1. Truffle with ice cream
            2. Oreo Waffle Stick
            3. Brownie with Ice cream
            4. Gulab jamun with ice cream
            5. Waffle
            6. Cold Coffee (FROM YOUR FAV AL CAFE)
            `;
            
            const prompt = `You are a royal pastry chef. I will give you a menu. You MUST choose exactly ONE item from this menu to recommend to the Princess. Do not suggest anything else.
            
            Menu: ${menu}
            
            Describe the chosen item in a mouth-watering, elegant way. Keep it under 25 words. Use a dessert emoji.`;
            
            callGemini(prompt, 'bard-result');
        }

        // --- APP LOGIC (Music Removed) ---

        function enterKingdom() {
            // UI Transitions
            const intro = document.getElementById('screen-intro');
            intro.classList.remove('active-screen');
            intro.classList.add('hidden-screen');

            const decree = document.getElementById('screen-decree');
            decree.classList.remove('hidden-screen');
            decree.classList.add('active-screen');
            
            // Small confetti pop
            confetti({
                particleCount: 50,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#FFD700', '#FF69B4']
            });
        }

        function claimCrown() {
            const duration = 3000;
            const end = Date.now() + duration;
            const celeb = document.getElementById('screen-celebration');
            celeb.classList.remove('opacity-0');
            celeb.classList.add('opacity-100');

            (function frame() {
                confetti({
                    particleCount: 7,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#FFD700', '#FF69B4', '#FFF']
                });
                confetti({
                    particleCount: 7,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#FFD700', '#FF69B4', '#FFF']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            setTimeout(() => {
                setInterval(() => {
                    confetti({
                        particleCount: 2,
                        angle: 90,
                        spread: 180,
                        origin: { y: -0.1 },
                        gravity: 0.5,
                        scalar: 0.8,
                        colors: ['#FFD700', '#FFB6C1']
                    });
                }, 400);
            }, 3000);
            
            const btn = document.querySelector('button[onclick="claimCrown()"]');
            btn.innerHTML = "üëë Crown Accepted üëë";
            btn.disabled = true;
            btn.classList.add('opacity-80');
        }

        // --- DECORATIVE SPARKLES ---
        function createSparkles() {
            const body = document.body;
            for(let i=0; i<20; i++) {
                const div = document.createElement('div');
                div.className = 'sparkle';
                div.style.left = Math.random() * 100 + 'vw';
                div.style.top = Math.random() * 100 + 'vh';
                div.style.width = Math.random() * 4 + 2 + 'px';
                div.style.height = div.style.width;
                div.style.animationDelay = Math.random() * 2 + 's';
                body.appendChild(div);
            }
        }
        createSparkles();

    </script>
</body>
</html>